{
	"category": "Butterfly",
	"color": "#f906f7",
	"blocks": ["__Butterfly_Init","__Butteryfly_stickC","__Butterfly_Lock", "__Butterfly_Unlock", "__Butterfly_ChangeColor",
		"__Butterfly_FlickerON", "__Butterfly_FlickerOFF", "__Butterfly_FlickerColor", "__Butterfly_FlickerSpeed"
	],
	"jscode": "// Block __Butterfly_Init\nvar __Butterfly_Init_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"InitButterfly_core\"\n        }\n    ],\n    \"colour\": \"#f906f7\"\n};\n\nwindow['Blockly'].Blocks['__Butterfly_Init'] = {\n    init: function () {\n        this.jsonInit(__Butterfly_Init_json);\n    }\n};\n\nwindow['Blockly'].Python['__Butterfly_Init'] = function (block) {\n    return `import machine\nuart = machine.UART(1, tx=17, rx=16)\nuart.init(9600, bits=8, parity=None, stop=1)\n\ndef writeCMD(num, cmd):\n    sendData = b'\\\\xAA' + bytes([num, cmd]) + b'\\\\x55'\n    uart.write(sendData)` + \"\\n\";\n};\n\n// Block __Butteryfly_stickC\nvar __Butteryfly_stickC_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"InitButterfly_stickC\"\n        }\n    ],\n    \"colour\": \"#f906f7\"\n};\n\nwindow['Blockly'].Blocks['__Butteryfly_stickC'] = {\n    init: function () {\n        this.jsonInit(__Butteryfly_stickC_json);\n    }\n};\n\nwindow['Blockly'].Python['__Butteryfly_stickC'] = function (block) {\n    return `import machine\nuart = machine.UART(1, tx=32, rx=33)\nuart.init(9600, bits=8, parity=None, stop=1)\n\ndef writeCMD(num, cmd):\n    sendData = b'\\\\xAA' + bytes([num, cmd]) + b'\\\\x55'\n    uart.write(sendData)` + \"\\n\";\n};\n\n// Block __Butterfly_Lock\nvar __Butterfly_Lock_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1 %2\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"LockPos\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"LockPos\"\n        }\n    ],\n    \"colour\": \"#f906f7\"\n};\n\nwindow['Blockly'].Blocks['__Butterfly_Lock'] = {\n    init: function () {\n        this.jsonInit(__Butterfly_Lock_json);\n    }\n};\n\nwindow['Blockly'].Python['__Butterfly_Lock'] = function (block) {\n    var LockPos = Blockly.Python.valueToCode(block, 'LockPos', Blockly.Python.ORDER_NONE);\n    return `writeCMD(${LockPos}, 0x00)` + \"\\n\";\n};\n\n// Block __Butterfly_Unlock\nvar __Butterfly_Unlock_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1 %2\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"UnlockPos\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"UnlockPos\"\n        }\n    ],\n    \"colour\": \"#f906f7\"\n};\n\nwindow['Blockly'].Blocks['__Butterfly_Unlock'] = {\n    init: function () {\n        this.jsonInit(__Butterfly_Unlock_json);\n    }\n};\n\nwindow['Blockly'].Python['__Butterfly_Unlock'] = function (block) {\n    var UnlockPos = Blockly.Python.valueToCode(block, 'UnlockPos', Blockly.Python.ORDER_NONE);\n    return `writeCMD(${UnlockPos}, 0x01)` + \"\\n\";\n};\n\n// Block __Butterfly_ChangeColor\nvar __Butterfly_ChangeColor_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Set\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Pos\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"pos\"\n        }\n    ],\n    \"message2\": \"%1 %2\",\n    \"args2\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"color\"\n        },\n        {\n            \"type\": \"field_colour\",\n            \"name\": \"color\",\n            \"colour\": '#000000'\n        }\n    ],\n    \"colour\": \"#f906f7\"\n};\n\n\nwindow['Blockly'].Blocks['__Butterfly_ChangeColor'] = {\n    init: function () {\n        this.jsonInit(__Butterfly_ChangeColor_json);\n        this.inputList[2].fieldRow[1].setColours(['#000000','#ba2020','#dbd520','#29df17','#17dadf','#0029ff','#d972ef','#feffe9','#e70606','#f9ea3b','#27ed09','#0990ed','#0234f9','#f658f7','#ffffff']).setColumns(5);\n    }\n};\n\nwindow['Blockly'].Python['__Butterfly_ChangeColor'] = function (block) {\n    var pos = Blockly.Python.valueToCode(block, 'pos', Blockly.Python.ORDER_NONE);\n    var color = block.getFieldValue('color') || '#000000';\n    switch (color) {\n        case '#000000': color = '0x10'; break;\n        case '#ba2020': color = '0x11'; break;\n        case '#dbd520': color = '0x12'; break;\n        case '#29df17': color = '0x13'; break;\n        case '#17dadf': color = '0x14'; break;\n        case '#0029ff': color = '0x15'; break;\n        case '#d972ef': color = '0x16'; break;\n        case '#feffe9': color = '0x17'; break;\n        case '#e70606': color = '0x18'; break;\n        case '#f9ea3b': color = '0x19'; break;\n        case '#27ed09': color = '0x1A'; break;\n        case '#0990ed': color = '0x1B'; break;\n        case '#0234f9': color = '0x1C'; break;\n        case '#f658f7': color = '0x1D'; break;\n        case '#ffffff': color = '0x1E'; break;\n        default:\n    }\n    return `writeCMD(${pos}, ${color})` + \"\\n\";\n};\n\n// Block __Butterfly_FlickerON\nvar __Butterfly_FlickerON_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"BreathON\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Pos\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"pos\"\n        }\n    ],\n    \"colour\": \"#f906f7\"\n};\n\nwindow['Blockly'].Blocks['__Butterfly_FlickerON'] = {\n    init: function () {\n        this.jsonInit(__Butterfly_FlickerON_json);\n    }\n};\n\nwindow['Blockly'].Python['__Butterfly_FlickerON'] = function (block) {\n    var pos = Blockly.Python.valueToCode(block, 'pos', Blockly.Python.ORDER_NONE);\n    return `writeCMD(${pos}, 0x21)` + \"\\n\";\n};\n\n// Block __Butterfly_FlickerOFF\nvar __Butterfly_FlickerOFF_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"BreathOFF\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Pos\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"pos\"\n        }\n    ],\n    \"colour\": \"#f906f7\"\n};\n\nwindow['Blockly'].Blocks['__Butterfly_FlickerOFF'] = {\n    init: function () {\n        this.jsonInit(__Butterfly_FlickerOFF_json);\n    }\n};\n\nwindow['Blockly'].Python['__Butterfly_FlickerOFF'] = function (block) {\n    var pos = Blockly.Python.valueToCode(block, 'pos', Blockly.Python.ORDER_NONE);\n    return `writeCMD(${pos}, 0x20)` + \"\\n\";\n};\n\n// Block __Butterfly_FlickerColor\nvar __Butterfly_FlickerColor_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \" Set\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Pos\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"pos\"\n        }\n    ],\n    \"message2\": \"%1 %2\",\n    \"args2\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Breath Color\"\n        },\n        {\n            \"type\": \"field_dropdown\",\n            \"name\": \"color\",\n            \"options\": [['white', '0'], ['red', '1'], ['yellow', '2'], ['green', '3'], ['sky', '4'], ['blue', '5'], ['pink', '6']]\n        }\n\n    ],\n    \"colour\": \"#f906f7\"\n};\n\nwindow['Blockly'].Blocks['__Butterfly_FlickerColor'] = {\n    init: function () {\n        this.jsonInit(__Butterfly_FlickerColor_json);\n    }\n};\n\nwindow['Blockly'].Python['__Butterfly_FlickerColor'] = function (block) {\n    var pos = Blockly.Python.valueToCode(block, 'pos', Blockly.Python.ORDER_NONE);\n    // var color = Blockly.Python.valueToCode(block, 'color', Blockly.Python.ORDER_NONE);\n    var color = block.getFieldValue('color') || '0';\n    switch (color) {\n        case '0': color = '0x30'; break;\n        case '1': color = '0x31'; break;\n        case '2': color = '0x32'; break;\n        case '3': color = '0x33'; break;\n        case '4': color = '0x34'; break;\n        case '5': color = '0x35'; break;\n        case '6': color = '0x36'; break;\n\n        default:\n    }\n    return `writeCMD(${pos}, ${color})` + \"\\n\";\n};\n\n// Block __Butterfly_FlickerSpeed\nvar __Butterfly_FlickerSpeed_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Set \"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Pos\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"pos\"\n        }\n    ],\n    \"message2\": \"%1 %2\",\n    \"args2\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Breath Speed\"\n        },\n        {\n            \"type\": \"field_dropdown\",\n            \"name\": \"speed\",\n            \"options\": [['1', '1'], ['2', '2'], ['3', '3'], ['4', '4'], ['5', '5'], ['6', '6'], ['7', '7'], ['8', '8'], ['9', '9'], ['10', '10'], ['11', '11'], ['12', '12'], ['13', '13']]\n        }\n\n    ],\n    \"colour\": \"#f906f7\"\n};\n\nwindow['Blockly'].Blocks['__Butterfly_FlickerSpeed'] = {\n    init: function () {\n        this.jsonInit(__Butterfly_FlickerSpeed_json);\n    }\n};\n\nwindow['Blockly'].Python['__Butterfly_FlickerSpeed'] = function (block) {\n    var pos = Blockly.Python.valueToCode(block, 'pos', Blockly.Python.ORDER_NONE);\n    var speed = block.getFieldValue('speed') || '1';\n    switch (speed) {\n        case '1': speed = '0x41'; break;\n        case '2': speed = '0x42'; break;\n        case '3': speed = '0x41'; break;\n        case '4': speed = '0x42'; break;\n        case '5': speed = '0x41'; break;\n        case '6': speed = '0x42'; break;\n        case '7': speed = '0x41'; break;\n        case '8': speed = '0x42'; break;\n        case '9': speed = '0x41'; break;\n        case '10': speed = '0x42'; break;\n        case '11': speed = '0x4a'; break;\n        case '12': speed = '0x4b'; break;\n        case '13': speed = '0x4c'; break;\n        default:\n    }\n    // var speed = Blockly.Python.valueToCode(block, 'speed', Blockly.Python.ORDER_NONE);\n    return `writeCMD(${pos}, ${speed})` + \"\\n\";\n};\n\n"
}
