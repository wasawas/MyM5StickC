#include "M5Atom.h"

uint8_t numberImageData[750 + 2] = {
    50, // width
    5,  // height
    0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69,
    0xA3, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3,
    0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00,
    0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69,
    0xA3, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3,
    0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00,
    0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3,
    0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00,
    0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69,
    0xA3, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3,
    0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00,
    0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69,
    0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3,
    0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69,
    0xA3, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3,
    0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00,
    0x69, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x69,
    0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x69, 0xA3, 0x00, 0x00, 0x00};

void setup()
{
    M5.begin(true, false, true);
    M5.dis.displaybuff(numberImageData);
}

int numberis = 0;

void loop()
{

    if (M5.Btn.wasPressed())
    {

        M5.dis.displaybuff(numberImageData, (9 - numberis) * 5, 0);

        numberis = (++numberis) % 10;

        Serial.printf("num:%d\n", numberis);

        do
        {
            M5.update();
        } while (M5.Btn.isPressed());
    }
    M5.update();
    delay(50);
}